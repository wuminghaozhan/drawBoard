# 🎯 选择功能使用指南

## 📋 功能简介

DrawBoard 的选择功能提供了现代化的图形选择和操作体验，支持多种选择方式和便捷的操作方法。

## 🚀 快速开始

### 第一步：绘制内容
在使用选择功能之前，需要先在画板上绘制一些内容：

1. **选择绘制工具**：
   - 🖊️ 画笔工具
   - ⬜ 矩形工具
   - ⭕ 圆形工具
   - 📝 文字工具

2. **绘制图形**：
   - 在画板上绘制几个不同的图形
   - 可以使用不同的颜色和线宽
   - 建议绘制3-5个图形用于测试

### 第二步：切换到选择工具
- 点击工具栏中的 🎯 选择工具按钮
- 或者按快捷键 **S**

### 第三步：选择图形
1. **框选操作**：
   - 在画板上按住鼠标左键
   - 拖拽出一个选择框
   - 释放鼠标完成选择

2. **选择反馈**：
   - 选择框具有动画虚线边框
   - 选中的图形会显示高亮效果
   - 右侧面板显示选择状态

### 第四步：操作选中内容
选中图形后，会显示底部操作栏，可以执行以下操作：

#### 基础操作
- **📋 复制**: 复制选中的图形（自动偏移）
- **🗑️ 删除**: 删除选中的图形

#### 样式编辑
- **🎨 描边颜色**: 修改图形边框颜色（实时预览）
- **🎨 填充颜色**: 修改闭合图形的填充色（圆、矩形、多边形）
- **📏 线宽**: 调整图形边框粗细

#### 图层控制
- **⬆️ 置于顶层**: 将选中图形移到最上层
- **⬇️ 置于底层**: 将选中图形移到最下层

#### 锁定功能
- **🔒 锁定**: 锁定后无法拖拽/变换，操作栏功能置灰
- **🔓 解锁**: 恢复正常操作

## ⌨️ 快捷键

| 功能 | 快捷键 | 说明 |
|------|--------|------|
| 撤销 | Ctrl+Z / ⌘+Z | 撤销上一步操作 |
| 重做 | Ctrl+Y / ⌘+Shift+Z | 重做上一步操作 |
| 复制 | Ctrl+C / ⌘+C | 复制选中的图形 |
| 粘贴 | Ctrl+V / ⌘+V | 粘贴图形 |
| 剪切 | Ctrl+X / ⌘+X | 剪切选中的图形 |
| 全选 | Ctrl+A / ⌘+A | 全选所有图形 |
| 删除 | Delete / Backspace | 删除选中的图形 |
| 取消选择 | Esc | 清除当前选择或取消拖拽 |

## 🎨 界面特性

### 现代化选择框
- ✨ 动画虚线边框效果
- 🔄 圆角设计与半透明背景
- 📍 四角指示器增强视觉反馈
- 🌟 选中状态的高亮效果

### 实时状态反馈
- 当前工具显示
- 选择状态指示
- 选中数量统计
- 历史记录计数

## 💡 使用技巧

### 1. 高效选择
- 从空白区域开始拖拽，可以框选多个图形
- 选择框支持任意方向拖拽
- 只有完全或部分在选择框内的图形会被选中

### 2. 状态查看
- 右侧信息面板实时显示选择状态
- 工具栏按钮状态会根据选择情况动态变化
- 选中后相关操作按钮会变为可用状态

### 3. 操作流程
```
绘制图形 → 切换选择工具 → 框选图形 → 执行操作
```

## 🔧 故障排除

### Q: 选择工具无反应？
**A**: 确保：
- 画板上有已绘制的内容
- 已正确切换到选择工具（工具栏显示🎯图标）
- 从空白区域开始拖拽选择框

### Q: 无法选中图形？
**A**: 检查：
- 选择框是否完全包围或部分覆盖目标图形
- 目标图形是否确实存在（历史记录数量 > 0）
- 尝试扩大选择框范围

### Q: 操作按钮无效？
**A**: 确认：
- 是否已选中图形（右侧面板显示"已选择 X 项"）
- 按钮是否处于可用状态（非灰色）
- 尝试重新选择图形

## 📱 移动端使用

在移动设备上使用选择功能：

1. **触摸操作**：
   - 单指触摸并拖拽进行框选
   - 支持多点触控

2. **界面适配**：
   - 工具栏自动调整为移动端布局
   - 按钮尺寸针对触摸操作优化
   - 选择框大小自动适配屏幕

## 🎯 演示地址

访问选择功能演示页面：
- 开发环境：http://localhost:3000/selection
- 生产环境：根据部署地址访问

## 🔮 高级功能

### 变换功能集成
- 拖拽锚点调整图形大小
- 拖拽旋转手柄旋转图形（圆形除外）
- 拖拽图形本身进行移动
- 支持键盘方向键移动图形

### 边界智能约束
- 拖拽时图形不会变形
- 图形整体受限于画布边界
- 缩放时保持比例（角点锚点）

### 批量操作
- 支持选择多个图形进行批量操作
- 一次性删除或复制多个元素
- 保持选择状态进行连续操作

### 锁定功能
- 锁定后图形无法拖拽、缩放、旋转
- 锁定后操作栏功能置灰（解锁除外）
- 锁定后仍然显示选区，但无锚点

### 橡皮擦注意事项
- 橡皮擦只对 **画笔(pen)** 类型起作用
- 其他类型图形不受橡皮擦影响
- 擦除效果实时预览
- 擦除精度可通过配置调整（1-5 像素）

---

**开始体验 DrawBoard 的强大选择功能！** 🚀 